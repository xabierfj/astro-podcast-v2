---
import podcastInfo from '../lib/podcast-info'
import PlatformButton from './PlatformButton.astro'
import HostCard from './HostCard.astro'

const { title, description, platforms, hosts } = podcastInfo
---

<div class="flex flex-col h-full p-4 md:p-6 scrollbar-thin"> 
  <div class="text-center mb-2">
    <div class="w-48 sm:w-48 md:w-56 mx-auto mb-4 overflow-hidden rounded-lg shadow-lg">
      <img class="w-full h-auto" src='/logo.webp'alt={`${podcastInfo.title} Logo`} />
    </div>
    <h1 class="text-2xl md:text-2xl font-bold text-theme-red dark:text-white">
      {podcastInfo.title}
    </h1>
    <p class="mt-2 text-sm md:text-base text-gray-600 dark:text-gray-300 leading-relaxed">
      {podcastInfo.description}
    </p>
  </div>

  {(platforms.spotify || platforms.ivox) && (
    <div class="mb-2">
      <h2 class="text-xl font-semibold mb-3 text-gray-700 dark:text-gray-200">Escúchanos en</h2>
      <div class="flex flex-row space-x-4 join">
        {platforms.spotify && <PlatformButton href={platforms.spotify} label="Spotify" />}
        {platforms.ivox && <PlatformButton href={platforms.ivox} label="Ivoox" />}
      </div>
    </div>
  )}

  {hosts && hosts.length > 0 && (
    <div class="mb-6">
      <h2 class="text-xl font-semibold mb-3 text-gray-700 dark:text-gray-200">Presentado por</h2>
      <ul class="space-y-4">
        {hosts.map(host => (
          <HostCard 
            name={host.name}
            img={host.img}
            bluesky={host.bluesky}
          />
        ))}
      </ul>
    </div>
  )}

  {(platforms.bluesky || platforms.instagram || platforms.kofi) && (
    <div class="mb-6">
      <h2 class="text-xl font-semibold mb-3 text-gray-700 dark:text-gray-200">Síguenos / Apóyanos</h2>
      <ul class="space-y-2">
        {platforms.bluesky && (
          <li><a href={platforms.bluesky} target="_blank" rel="noopener noreferrer" class="hover:text-theme-red dark:hover:text-theme-red-light transition-colors">Bluesky (Podcast)</a></li>
        )}
        {platforms.instagram && (
          <li><a href={platforms.instagram} target="_blank" rel="noopener noreferrer" class="hover:text-theme-red dark:hover:text-theme-red-light transition-colors">Instagram</a></li>
        )}
        {platforms.kofi && (
          <li class="mt-3 pt-3 border-t border-gray-700 dark:border-gray-600">
            <a href={platforms.kofi} target="_blank" rel="noopener noreferrer" class="font-semibold hover:text-theme-red dark:hover:text-theme-red-light transition-colors">Apoya en Ko-fi</a>
          </li>
        )}
      </ul>
    </div>
  )}
</div>